<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="icon" href="/static/images/favicon.ico">
        <link rel="icon" type="image/png" sizes="32x32" href="/static/images/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="96x96" href="/static/images/favicon-96x96.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/static/images/favicon-16x16.png">

        <title>API Catalog - Signposting the Scholarly Web</title>

        <!-- Bootstrap core CSS -->
        <link href="/static/css/bootstrap.min.css" rel="stylesheet">
        <link href="/static/css/signposting.css" rel="stylesheet">

        <!-- Custom styles for this template -->
        <script src="/static/js/jquery.min.js"></script>
        <script src="/static/js/bootstrap.min.js"></script>
        <script src="/static/js/signposting.js"></script>
        <script src="/static/js/lodash.min.js"></script>
        <script src="/static/js/backbone-min.js"></script>
 <style type="text/css">       
ol.nested-counter-list {
  counter-reset: item;
}

ol.nested-counter-list li {
  display: block;
}

ol.nested-counter-list li::before {
  content: counters(item, ".") ". ";
  counter-increment: item;
}

ol.nested-counter-list ol {
  counter-reset: item;
}
</style>        
        
        <!-- RobustLinks CSS -->
		<link rel="stylesheet" type="text/css" href="https://doi.org/10.25776/z58z-r575" />
		<!-- RobustLinks Javascript -->
		<script type="text/javascript" src="https://doi.org/10.25776/h1fa-7a28"></script>
        <script>   
$(function() {
    load_header_footer();
});
        </script>
    </head>

    <body>

        <!-- Static navbar -->
        <div id="signposting-menu"></div>

        <div class="container">

            <div class="row">
                <div class="jumbo">
                <div class="row">
                        <h3>API Catalog: Supporting Discovery of a Repository's Interoperability Affordances</h3>
                        <h5>
                        Prepared by: Herbert Van de Sompel, Robert Huber, ...
                        </h5>
                        <h5>This version, created 20231118: <a href="https://www.signposting.org/API-Catalog/"
data-versionurl="http://web.archive.org/web/20231118/https://signposting.org/API-Catalog/"
data-versiondate="2023-11-18">https://www.signposting.org/API-Catalog/</a> </h5>
<!--
<h5>Previous version, created 20231118: <a href="https://www.signposting.org/API-Catalog/"
data-versionurl="https://web.archive.org/web/20231118/https://signposting.org/API-Catalog/"
data-versiondate="2023-11-18">https://www.signposting.org/API-Catalog/</a></h5>
-->
						<h5>Please provide feedback in the <a href="https://github.com/hvdsomp/signposting">GitHub Signposting repository</a></h5>
						<br>
						<div class="">
						In order to meet FAIR expectations, repositories provide affordances to support Finding, Accessing, Interoperating, and Reusing 
						the items they manage. Some affordances focus on supporting machine interaction with scholarly content and 
						entail implementing common specifications as well as repository-specific machine interfaces. 
						Discovering whether and which interoperability affordances are provided by a repository remains a challenge. 
						Some specifications describe how to advertise a compliant interface, but, the discovery approach is  
						different for different specifications. Other specifications don't detail an approach to discover a compliant interface 
						and rely on a central registry instead. For yet other specifications, no way to advertise compliance exists. 
						This document describes an approach that repositories can uniformly use to advertise the interoperability affordances 
						they provide.  
						</div>
						</div>
						</div>
						
<h3><a name="toc"></a>Table of Contents</h3>
<div class=" ">
<ol class="nested-counter-list">
<li><a href="#intro">Introduction</a></li>
<li><a href="#blocks">Building Blocks</a>
<ol>
<li><a href="#linkset">The API Catalog Link Set</a></li>
<li><a href="#linkrels">Link Relation Types to Point at Machine Interface Descriptions</a></li>
<li><a href="#discovery">Discovery of the API Catalog Link Set</a></li>
</ol>
</li>
<li><a href="#examples">Examples</a>
<ol>
<li><a href="#exlinkset">API Catalog Link Set</a></li>
<li><a href="#exaffordances">Common Interoperability Affordances</a></li>
</ol>
</li>
</ol>
</div>
						
		<h3><a name="intro"></a>1. Introduction</h3>
						
                        <div class="">
                        This specification details an approach that repositories can use to advertise the interoperability affordances they provide. 
                        Such affordances can be:
                        <ul>
                        <li>Collection-level affordances: Machine interfaces that can be used to interact with the entire repository collection.</li>
                        <li>Item-level affordances: Affordances that are available when interacting with a single item of the repository collection 
                        and that are available for each item of the collection.</li>
                        </ul>
                         
                        The approach consists of:
                        <ul>
                         <li>Publishing a single JSON <a href="https://www.rfc-editor.org/rfc/rfc9264.html">Link Set</a> 
                        that contains links to documentation for each available affordance.</li> 
                        <li>Making that link set discoverable.</li> 
                        </ul>
                        
                        <br />
                        
                        <div style="text-align: left;">
<img src="api-catalog.png" alt="API Catalog overview" width="800">
</div>
<br />
                                                <div class="">
                        A repository can use the approach, for example, to:
                        <ul>
                         <li>indicate what the baseURL of its OAI-PMH interface is,</li>
                         <li>point to its Sitemap entry point,</li>
                         <li>indicate the baseURL of a repository-specific API, and link to its machine- and human readable specification,</li>
                         <li>advertise support for FAIR Signposting,</li>
                         <li>convey that items from the repository collection can be downloaded as RO-Crates.</li>
                         </ul>
                         
                        The specification leverages the following formal specifications:
                        <ul>
                         <li><a href="https://www.rfc-editor.org/rfc/rfc9264.html">RF9264</a>: Linkset: Media Types and a Link Relation Type for Link Sets - This RFC defines the <code>application/linkset+json</code> document format that can be used to convey a set of typed links.</li>
                         <li><a href="https://www.rfc-editor.org/rfc/rfc8631.html">RFC8631</a>: Link Relation Types for Web Services - This RFC defines the <code>service-doc</code>, <code>service-desc</code>, and <code>service-meta</code> link relation types that can be used to, respectively, 
                         link to a human-readable description of a machine interface, a machine-readable description of a machine interface, and additional information pertaining a the machine interface.</li>
                          <li>The <a href="https://datatracker.ietf.org/doc/draft-ietf-httpapi-api-catalog/">api-catalog</a> Internet Draft - This specification defines the <code>api-catalog</code> link relation type that can be used to
                         point at a machine-readable document that provides an overview of the machine interfaces for a repository. The draft has been adopted by the 
                         <a href="https://datatracker.ietf.org/wg/httpapi/documents/">IETF HTTP API Working Group</a> and will eventually be published as an RFC.</li>
                         </ul>                         
                         </div>
                         
                          
       <h3><a name="blocks"></a>2. Building Blocks</h3>  
       
       <div class="">
       This section provides a description of the building blocks of the API Catalog approach that can be used to provide details 
       about the interoperability affordances that are supported by a repository.
       </div>       
       <br />
       
              <h4><a name="linkset"></a>2.1. The API Catalog Link Set</h4>  
       
       <div class="">
       The API Catalog is a <a href="https://www.rfc-editor.org/rfc/rfc9264.html">Link Set</a> that is serialized in the <a href="https://www.rfc-editor.org/rfc/rfc9264.html#name-json-document-format-applic"><code>application/linkset+json</code> format</a>. 
       The content of the Link Set is as follows:
       <ul>
       <li>For each interoperability affordance provided by a repository, the Link Set contains a <a href="https://www.rfc-editor.org/rfc/rfc9264.html#name-link-context-object">link context object</a> 
       with a mandatory <code>anchor</code> member. The URL provided as value of the <code>anchor</code> member depends on the nature of the affordance:</li>
       <ul>
       <li>Collection-level affordance: The value of the <code>anchor</code> member is the URL of the machine interface.</li>
       <li>Item-level affordances: The value of the <code>anchor</code> member is the URL of a sample collection item that illustrates the affordance. 
       If more than one item-level affordance exists, each must be illustrated by means of a different collection item.</li>
       </ul>
       <li>The <code>anchor</code> member is the context for links to resources that provide information about the interoperability affordance. 
       These links must have the <code>service-doc</code>, <code>service-desc</code>, and <code>service-meta</code> link relation types with semantics 
       as described in <a href="linkrels">Section 2.2</a>. Links with other link relation types must not be provided.</li>
       <li>For each link, the <code>type</code> <a href'https://www.rfc-editor.org/rfc/rfc9264.html#name-link-target-attributes">link target attribute</a> 
       must be used to convey the <a href="https://www.iana.org/assignments/media-types/media-types.xhtml">media type</a> of the resource that is the target of the link. 
       The <code>profile</code> attribute may be used to provide further specificity regarding the media type, and, if used, must contain a <a href="https://www.rfc-editor.org/rfc/rfc7284.html">profile URI</a>.
       The <code>title</code> attribute may be used to improve human readability of the Link Set, and, if used, must contain the title of the resource that 
       is the target of the link.
       </li>
       <li>All URLs in the Link Set must be absolute URIs; relative URIs must not be used.</li>
       </ul>
       </div> 
       <br />
       
       <h4><a name="linkrels"></a>2.2. Link Relation Types to Point at Descriptions of Interoperability Affordances</h4>   
       
       <div class="">
       <a href="https://www.rfc-editor.org/rfc/rfc8631.html">RFC8631</a> defines the following link relation types that are used in an API Catalog Link Set to point at
       various descriptions of a specific interoperability affordance that is provided by a repository:
       <ul>
       <li><code>service-doc</code>: This link relation type is used to point at a human-readable specification of an interoperability affordance. 
       It can, for example, be used to point at the URI of a specification or 
       standard, e.g. the <a href="https://www.openarchives.org/OAI/openarchivesprotocol.html">OAI-PMH specification</a>, the <a href="https://www.w3.org/TR/sparql11-query/">SPARQL 1.1 W3C Recommendation</a>, the 
       <a href="https://signposting.org/FAIR/">FAIR Signposting specification</a>.</li>
       <li><code>service-desc</code>: This link relation type is used to point at a machine-readable specification of the interoperability affordance. 
       It can, for example, be used to point at the URI of an <a href="https://swagger.io/specification/">OpenAPI</a> 
       specification of an API exposed by the repository.</li>
       <li><code>service-meta</code>: This link relation type is used to point at further details regarding the interoperability affordance. 
       It can, for example, be used to point at the 
       <code>Identify</code> endpoint of an OAI-PMH interface or a <a href="http://www.w3.org/TR/sparql11-service-description/">SPARQL 1.1 Service Description</a> document.</li>
       </ul>
       </div> 
       <br />
       
       <h4><a name="discovery"></a>2.3. Discovery of the API Catalog Link Set</h4>      
       
       <div class="">
       In order to support discovery of its API Catalog Link Set, a repository must provide a link from the repository's <b>baseURL</b> to the 
       API Catalog Link Set with the <code>api-catalog</code> link relation type. This link:
       <ul>
       <li>Must be provided in the HTTP <code>Link</code> header and/or the HTML <code>&lt;link&gt;</code> element.</li>
       <li>Must have a <code>type</code> attribute with value <code>application/linkset+json</code>.</li>
       <li>Must have a <code>profile</code> attribute with value <code>https://signposting.org/API-Catalog/</code>.</li>
       </ul>  
       Moreover, the repository should support issuing an HTTP HEAD request against its <b>baseURL</b>.</li>
       </div> 
       
       <h3><a name="examples"></a>3. Examples</h3>
       
       <div class="">
       This section provides two types of examples. 
       <a href="#exlinkset">Section 3.1</a> illustrates discovery and retrieval of the API Catalog for a fictitious repository.
       <a href="#exlinkset">Section 3.2</a> shows how common interoperability affordances are handled in an API Catalog. This is done by means of 
       the URLs of actual affordances as provided by real repositories.
       </div> 
       <br />
       
              <h4><a name="exlinkset"></a>3.1. API Catalog Link Set</h4>
              
       <div class="">
       The below example illustrates how an agent can discover a repository's API Catalo. It shows the response to an HTTP HEAD request 
       issued against the baseURL of the fictitious repository <code>my.repo.org</code>. The response contains an 
       HTTP Link header that has a link with the <code>api-catalog</code> link relation type and the mandatory <code>type</code> and <code>profile</code> 
       attributes as described in <a href="#discovery">Section 2.3</a>. The link's target &lt;https://my.repo.org/api-info.json&gt; is the URL of the repository's 
       API Catalog Link Set.
       </div> 
       <br />
       
       <div class=" ">
<table class="table">
<tbody><tr>
<td style="width: 80%;">HTTP HEAD against a repository's baseURL: request and response</td>
</tr>
<tr>
<td>
<pre>$ curl -I "https://my.repo.org"

HTTP/1.1 200 OK
Date: Sat, 18 Nov 2023 14:43:12 GMT
Content-Type: text/html
Content-Length: 2657
Link: &lt;https://my.repo.org/api-info.json&gt; 
      ; rel="api-catalog" 
      ; type="application/linkset+json" 
      ; profile="https://signposting.org/API-Catalog/" 
</pre>
</td>
</tr>
</tbody></table>
</div>

       <div class="">
       In the below example, the agent retrieves the API Catalog by issuing an HTTP GET against the URL &lt;https://my.repo.org/api-info.json&gt; 
       that it just discovered. The Link Set in the response contains four <code>anchor</code> members, indicating that the repository provides 
       details about four interoperability affordances:
       <ul>
       <li>The affordance at &lt;https://my.repo.org/oaipmh&gt; is detailed in a human-readable manner (<code>service-doc</code> link relation type)   
       by the document at &lt;https://www.openarchives.org/OAI/openarchivesprotocol.html&gt;, which is the OAI-PMH specification.  
       Further information about the repository's OAI-PMH implementation is provided by means of a link with the 
       <code>service-meta</code> link relation type that points at the URL for the Identify request against the OAI-PMH interface.</li>
       <li>The affordance at &lt;https://my.repo.org/sitemap/index.xml&gt; is detailed in a human-readable manner (<code>service-doc</code> link relation type) 
       by the document at &lt;https://www.sitemaps.org/protocol.html&gt;, which is the Sitemap protocol specification. No further information is provided 
       for this affordance.</li>
       <li>The affordance at &lt;https://my.repo.org/sparql11&gt; is detailed in a human-readable manner (<code>service-doc</code> link relation type) 
       by the document at &lt;https://www.w3.org/TR/sparql11-query/&gt;, which is the SPARQL 1.1 W3C Recommendation. No further information is provided 
       for this affordance. Further information about the repository's SPARQL end-point is provided by means of a link with the 
       <code>service-meta</code> link relation type that points at the URL of a 
       <a href="https://www.w3.org/TR/sparql11-service-description/">SPARQL Description</a> document.</li>
       <li>The affordance at &lt;https://my.repo.org/api&gt; is detailed in a machine-readable manner (<code>service-desc</code> link relation type) 
       by the JSON document at &lt;https://my.repo.org/api/api-specification.json&gt;, which could be an OpenAPI document. 
       It is also detailed in a human-readable manner (<code>service-doc</code> link relation type) by the document at &lt;https://my.repo.org/api/api-specification.html&gt;.</li>
        <li>The last affordance is illustrated by means of item &lt;https://my.repo.org/item/747369/&gt; of the repository collection. 
        It is detailed in a human-readable manner (<code>service-desc</code> link relation type) 
       by the document &lt;https://signposting.org/FAIR/&gt;, which is the FAIR Signposting specification. 
      </li>
       </ul>
       </div> 
       
       <br />
       
              <div class=" ">
<table class="table">
<tbody><tr>
<td style="width: 80%;">HTTP GET against the URL of a repository's API Catalog: request and response</td>
</tr>
<tr>
<td>
<pre>$ curl -i "https://my.repo.org/api-info.json"

HTTP/1.1 200 OK
Date: Sat, 18 Nov 2023 14:44:07 GMT
Content-Type: application/linkset+json
Content-Length: 1809

{
  "linkset": [
    {
      "anchor": "https://my.repo.org/oaipmh",
      "service-doc": [
        {
          "href": "https://www.openarchives.org/OAI/openarchivesprotocol.html",
          "type": "text/html",
          "title": "Open Archives Initiative - Protocol for Metadata Harvesting - v.2.0"
        }
      ],
      "service-meta": [
        {
          "href": "https://my.repo.org/oaipmh?verb=Identify",
          "type": "application/xml"
        }
      ]
    },
    {
      "anchor": "https://my.repo.org/sitemap/index.xml",
      "service-doc": [
        {
          "href": "https://www.sitemaps.org/protocol.html",
          "type": "text/html",
          "title": "sitemaps.org - Protocol"
        }
      ]
    },
    {
      "anchor": "https://my.repo.org/sparql11",
      "service-doc": [
        {
          "href": "https://www.w3.org/TR/sparql11-query/",
          "type": "text/html",
          "title": "SPARQL 1.1 Query Language"
        }
      ],
      "service-meta": [
        {
          "href": "https://my.repo.org/sparql11/description.xml",
          "type": "application/rdf+xml"
        }
      ]
    },
    {
      "anchor": "https://my.repo.org/api",
      "service-desc": [
        {
          "href": "https://my.repo.org/api/openapi.yml",
          "type": "application/yaml"
        }
      ],
      "service-doc": [
        {
          "href": "https://my.repo.org/api/api-specification.html",
          "type": "text/html",
          "title": "My Repo API"
        }
      ]
    },
    {
      "anchor": "https://my.repo.org/item/747369/",
      "service-doc": [
        {
          "href": "https://signposting.org/FAIR/",
          "type": "text/html",
          "title": "FAIR Signposting Profile - Signposting the Scholarly Web"
        }
      ]
    }
  ]
}
</pre>
</td>
</tr>
</tbody></table>
</div>
       

                         
                       
                        
              <h4><a name="exaffordances"></a>3.2. Common Interoperability Affordances</h4>
       
              <div class="">
       This section shows what entries in an API Catalog Link Set look like for common interoperability affordances. The example entries 
       are based on actual implementations of these affordances, meaning, they are not fictitious.
       </div>      
<br />

<div class=" ">
<table class="table">
<tbody>
<tr>
<td style="width: 80%;">FAIR Signposting, Pangea</td>
</tr>
<tr>
<td>
<pre>
{
  "linkset": [
    {
      "anchor": "https://doi.pangaea.de/10.1594/PANGAEA.867908",
      "service-doc": [
        {
          "href": "https://signposting.org/FAIR/",
          "type": "text/html",
          "title": "FAIR Signposting Profile - Signposting the Scholarly Web"
        }
      ]
    }
  ]
}
</pre>
</td>
</tr>
</tbody></table>
</div>

<div class=" ">
<table class="table">
<tbody>
<tr>
<td style="width: 80%;">OAI-ORE (RDF/XML serialization), DANS SSH Data Station</td>
</tr>
<tr>
<td>
<pre>
{
  "linkset": [
    {
      "anchor": "https://ssh.datastations.nl/dataset.xhtml?persistentId=doi:10.17026/dans-29r-wyyr",
      "service-doc": [
        {
          "href": "https://www.openarchives.org/ore/1.0/rdfxml",
          "type": "text/html",
          "title": "ORE User Guide - Resource Map Implementation in RDF/XML"
        }
      ]
    }
  ]
}
</pre>
</td>
</tr>
</tbody></table>
</div>

<div class=" ">
<table class="table">
<tbody>
<tr>
<td style="width: 80%;">OAI-PMH, arXiv.org</td>
</tr>
<tr>
<td>
<pre>
{
  "linkset": [
    {
      "anchor": "https://export.arxiv.org/oai2",
      "service-doc": [
        {
          "href": "https://www.openarchives.org/OAI/openarchivesprotocol.html",
          "type": "text/html",
          "title": "Open Archives Initiative - Protocol for Metadata Harvesting - v.2.0"
        }
      ],
      "service-meta": [
        {
          "href": "https://export.arxiv.org/oai2?verb=Identify",
          "type": "application/xml"
        }
      ]
    }
  ]
}
</pre>
</td>
</tr>
</tbody></table>
</div>


<div class=" ">
<table class="table">
<tbody>
<tr>
<td style="width: 80%;">RO-Crate, ROhub</td>
</tr>
<tr>
<td>
<pre>
{
  "linkset": [
    {
      "anchor": "https://www.rohub.org/80e2215b-49cb-456e-9ae9-803f3bcdbba3",
      "service-doc": [
        {
          "href": "https://w3id.org/ro/crate/1.1",
          "type": "text/html",
          "title": "RO-Crate 1.1 | Research Object Crate (RO-Crate)"
        }
      ]
    }
  ]
}
</pre>
</td>
</tr>
</tbody></table>
</div>

<div class=" ">
<table class="table">
<tbody>
<tr>
<td style="width: 80%;">Sitemap Protocol, PLOS</td>
</tr>
<tr>
<td>
<pre>
{
  "linkset": [
    {
      "anchor": "http://sitemaps.plos.cloud/journals/sitemap-index.xml",
      "service-doc": [
        {
          "href": "https://www.sitemaps.org/protocol.html",
          "type": "text/html",
          "title": "sitemaps.org - Protocol"
        }
      ]
    }
  ]
}
</pre>
</td>
</tr>
</tbody></table>
</div>






<div class=" ">
<table class="table">
<tbody>
<tr>
<td style="width: 80%;">SPARQL 1.1, Uniprot</td>
</tr>
<tr>
<td>
<pre>
{
  "linkset": [
    {
      "anchor": "https://sparql.uniprot.org/sparql/",
      "service-doc": [
        {
          "href": "https://www.w3.org/TR/sparql11-query/",
          "type": "text/html",
          "title": "SPARQL 1.1 Query Language"
        }
      ]
    }
  ]
}
</pre>
</td>
</tr>
</tbody></table>
</div>


            





<br>




</div>
            </div> <!-- /container -->

            <div class="footer" id="footer">
            </div>

    

</body></html>
